- kind: rule
  metadata:
    namespace: system
    name: platform_services_deployment_rule
  weight: 1000
  criteria:
    require-all:
      - service.Namespace == 'platform'
  actions:
    change-labels:
      set:
        cluster: cluster-us-east

- kind: rule
  metadata:
    namespace: system
    name: realtime_services_deployment_rule
  weight: 2000
  criteria:
    require-all:
      - service.Namespace == 'social'
      - message_stream == 'realtime'
  actions:
    change-labels:
      set:
        cluster: cluster-us-east

- kind: rule
  metadata:
    namespace: system
    name: dev_services_deployment_rule
  weight: 3000
  criteria:
    require-all:
      - service.Namespace == 'social'
      - message_stream != 'realtime'
  actions:
    change-labels:
      set:
        cluster: cluster-us-west

- kind: rule
  metadata:
    namespace: system
    name: reject_dependency_for_mobile_dev_users
  weight: 4000
  criteria:
    require-all:
      - team == 'mobile-dev'
  actions:
    dependency: reject
