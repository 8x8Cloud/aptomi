# Definition of Kafka service
name: kafka

labels:
  set:
    a: b

components:

  - name: zookeeper
    service: zookeeper
    labels:
      set: # add/modify
        some-test-context-specific-label: some-value
      remove:
        a:
        b:

  - name: kafka
    code:
      type: aptomi/code/kubernetes-helm
      content:
        chart:
          name: boston-summit-charts/kafka
        params:
          antiAffinity: soft
          zookeeper.deployChart: false
          zookeeper.externalAddress: zk-{{ .Components.zookeeper.zookeeper }}-0.zk-{{ .Components.zookeeper.zookeeper }}:2181,zk-{{ .Components.zookeeper.zookeeper }}-1.zk-{{ .Components.zookeeper.zookeeper }}:2181,zk-{{ .Components.zookeeper.zookeeper }}-2.zk-{{ .Components.zookeeper.zookeeper }}:2181
    labels:
      set: # add/modify
        some-test-context-specific-label: some-value
      remove:
        a:
        b:
    dependencies:
      - zookeeper
