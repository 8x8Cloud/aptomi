# Definition of HDFS service
name: hdfs

components:

  - name: hdfs
    discovery:
      url: "hdfs-namenode-{{ .Discovery.instance }}-0.hdfs-namenode-{{ .Discovery.instance }}"
    code:
      type: aptomi/code/kubernetes-helm
      params:
        chartName: hdfs-1.0.0
        cluster: "{{ .Labels.cluster }}"

        datanode:
          replicas: 1
          antiAffinity: "soft"
