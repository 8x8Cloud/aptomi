# This context is for people from it ops (they control production instances of AP and TS)
- kind: context

  metadata:
    namespace: main
    name: prod-analytics-ops

  spec:
    # Applies to all services owned by 'analytics-ops-team'
    # For consumers with org == 'it' && is_operator
    criteria:
      require-all:
        - service.Owner.Labels.team == 'analytics-ops-team'
      require-any:
        - org == 'it' && is_operator

    # In production:
    # - service will be deployed in us-east
    # - as a single production instance
    allocation:
      name: "production"
      labels:
        set:
          cluster: cluster-us-east
